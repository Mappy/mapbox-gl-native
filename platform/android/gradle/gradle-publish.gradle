apply plugin: 'digital.wup.android-maven-publish'
apply plugin: 'signing'

def is_mappy_snapshot = "true"
if (project.hasProperty('is_mappy_snapshot')) {
    is_mappy_snapshot = project.getProperties().get('is_mappy_snapshot')
}

print "is_mappy_snapshot: ${is_mappy_snapshot} \n"

allprojects {
    version project.VERSION_NAME

    repositories {
        mavenCentral()
    }
}

repositories {
    mavenCentral()
}

afterEvaluate { project ->
    publishing {
        publications {
            maven(MavenPublication) {
                from components.android

            }
        }
        repositories {
            maven {
		if(is_mappy_snapshot) {
                	url "file://${System.env.MAVEN_PRIVATE}"
            	} else {
                	url "file://${System.env.MAVEN}"
            	}
                
            }
        }
    }
}